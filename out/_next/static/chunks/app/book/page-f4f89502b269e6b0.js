(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[774],{6725:(e,t,n)=>{Promise.resolve().then(n.bind(n,9269))},9269:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ew});var a=n(5155),s=n(2115);let l=["contact","event","date","time","location","review"],c=[{id:"licensed_venues",label:"Licensed Venues / Nightclubs"},{id:"private_functions",label:"Private Functions"},{id:"weddings_engagements",label:"Weddings / Engagement Parties"},{id:"corporate_events",label:"Corporate Events"},{id:"conferences_seminars",label:"Conferences / Seminars"},{id:"festivals_concerts",label:"Festivals / Concerts"},{id:"sporting_events",label:"Sporting Events"},{id:"private_residences",label:"Private Residences"},{id:"static_security",label:"Static Security (Office / Lobby)"},{id:"bodyguard_services",label:"Bodyguard / Close Protection"},{id:"retail_stores",label:"Retail Stores"},{id:"shopping_centres",label:"Shopping Centres"},{id:"birthday_parties",label:"Birthday Parties (Adult / Youth)"},{id:"school_events",label:"School Events / Formals"},{id:"community_events",label:"Community Events"},{id:"markets_fairs",label:"Markets / Street Fairs"},{id:"construction_sites",label:"Construction Sites"},{id:"warehouse_security",label:"Warehouse Security"},{id:"film_sets",label:"Film Sets / Media Production"},{id:"carparks_residential",label:"Car Parks / Residential Complexes"},{id:"vip_events",label:"VIP Events"},{id:"popup_events",label:"Pop-up Events / Brand Activations"}],i=["Access Control","Traffic Management","Restricted Access Control","Noise Control","Conflict Management","Equipment Protection","Alcohol Monitoring & Compliance","Guest Verification","ID Checks"];function r(e){try{let t=sessionStorage.getItem("".concat(e,"_data"));if(t){let[e]=JSON.parse(t);return e}}catch(t){console.warn("Invalid ".concat(e,"_data in sessionStorage:"),t)}return null}function o(e,t){sessionStorage.setItem("".concat(e,"_data"),JSON.stringify([t]))}function d(e){let t=document.getElementById("".concat(e,"_error"));t&&(t.textContent="",t.classList.add("hidden"))}function u(e,t){let n=document.getElementById("".concat(e,"_error"));n&&(n.textContent=t,n.classList.remove("hidden"))}function x(e){let{section:t,onAdvance:n}=e;return(0,a.jsx)("button",{id:"".concat(t,"_verification"),onClick:n,className:"btn animate btn-scale",children:"Confirm & Continue"})}var m=n(1007),h=n(8883),f=n(9420),p=n(6474);function g(e){let{id:t,title:n,options:s,selected:l,onSelect:c,className:i=""}=e;return(0,a.jsxs)("div",{id:t,className:"w-full gap-3 flex flex-col text-center items-center ".concat(i),children:[(0,a.jsx)("h5",{className:"h5 w-full",children:n}),s.map(e=>(0,a.jsx)("button",{id:e.id,onClick:()=>c(e.id),className:"w-3/4 px-6 py-2 rounded-xl text-primary animate btn-scale \n                        ".concat(l===e.id?"bg-accent":"bg-inactive"),children:e.label},e.id)),(0,a.jsx)("p",{id:"".concat(t,"_error"),className:"hidden text-error text-center"})]})}function v(e){let{id:t,type:n="text",placeholder:s="",icon:l,savedInfo:c="",onChange:i}=e;return(0,a.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{id:t,type:n,placeholder:s,value:c,onChange:e=>i(e.target.value),className:"inp pr-10"}),l&&(0,a.jsx)(l,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-primary w-5 h-5"})]}),(0,a.jsx)("p",{id:"".concat(t,"_error"),className:"hidden text-error text-center"})]})}var j=n(8339);function b(e){return e&&0!==e.length?e.charAt(0).toUpperCase()+e.slice(1):e}function N(e){let t=e.trim().replace(/\s+/g,"");return t.startsWith("0")?t.replace(/^0/,"+61"):t}function y(e){if(!e||0===e)return"0 min";let t=Math.floor(e/60),n=e%60;return[t?"".concat(t," hr").concat(t>1?"s":""):"",n?"".concat(n," min"):""].filter(Boolean).join(" ")}let w=e=>{let t=e instanceof Date?e:new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate()).toLocaleDateString("en-AU",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};function S(e){let{id:t,label:n,max:s=5e4,min:l=1,value:c,onChange:i}=e;return(0,a.jsxs)("div",{className:"w-full lg:w-1/2 p-2 flex flex-col items-center",children:[(0,a.jsx)("input",{id:t,type:"number",value:null!=c?c:"",onChange:e=>{i(parseInt(e.target.value,10))},onBlur:e=>{let t=parseInt(e.target.value,10);isNaN(t)&&(t=l),t>s&&(t=s),t<l&&(t=l),i(t)},inputMode:"numeric",pattern:"[0-9]*",placeholder:l,className:"text-center text-2xl text-primary bg-inactive rounded-md w-full"}),(0,a.jsx)("hr",{className:"w-full border-t border-inactive my-1"}),(0,a.jsx)("label",{htmlFor:t,className:"text-md text-inactive",children:n}),(0,a.jsx)("p",{id:"".concat(t,"_error"),className:"hidden text-error text-center"})]})}var _=n(8309),k=n(9103),C=n(4416);function A(e){let{selected:t,onChange:n}=e,[l,c]=(0,s.useState)(!1),[r,o]=(0,s.useState)([]),d=e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},u=e=>{n(t.filter(t=>t!==e))},x=i.filter(e=>!t.includes(e)),m=0===t.length||t.length%2==0;return(0,a.jsxs)("div",{className:"w-full py-2 flex flex-col items-center gap-4 relative",children:[(0,a.jsx)("h5",{className:"h5 text-center",children:"Security Roles"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-xl",children:[t.map(e=>(0,a.jsxs)("button",{onClick:()=>u(e),className:"w-full px-4 py-2 bg-surface text-main rounded-xl text-sm flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-left",children:e}),(0,a.jsx)(_.A,{className:"w-4 h-4 opacity-70 hover:opacity-100"})]},e)),(0,a.jsxs)("button",{onClick:()=>{i.filter(e=>!t.includes(e)),o([]),c(!0)},className:"w-full px-4 py-2 bg-inactive text-primary rounded-xl text-sm flex \n                    justify-between items-center btn-scale ".concat(m?"md:col-span-2":""),children:[(0,a.jsx)("span",{children:"Select Role"})," ",(0,a.jsx)(k.A,{className:"w-4 h-4 opacity-70 hover:opacity-100"})]})]}),l&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-back",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-xl p-5 relative z-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h5",{className:"font-semibold text-main text-md",children:"Select Service Roles"}),(0,a.jsxs)("button",{onClick:()=>{o([]),c(!1)},className:"text-inactive hover:text-error",children:[(0,a.jsx)(C.A,{className:"w-5 h-5"})," "]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-4",children:[x.map(e=>(0,a.jsx)("button",{onClick:()=>d(e),className:"w-full cursor-pointer px-3 py-2 rounded text-back text-sm hover:bg-accent-hover\n                                        ".concat(r.includes(e)?"bg-accent":"bg-inactive"),children:e},e)),0===x.length&&(0,a.jsx)("p",{className:"text-center col-span-2 text-sm text-inactive",children:"All roles selected"})]}),(0,a.jsxs)("button",{onClick:()=>{n([...t,...r]),o([]),c(!1)},disabled:0===r.length,className:"w-full py-2 bg-accent text-back rounded-xl text-sm disabled:opacity-50",children:["Confirm Selection (",r.length,")"]})]})}),(0,a.jsx)("p",{id:"event_roles_error",className:"hidden text-error text-sm text-center"})]})}var E=n(760),M=n(6408),I=n(2355),D=n(3052),P=n(542),F=n(4423),O=n(3231),T=n(714),L=n(9836),R=n(3898);function Y(e){let{selectedDate:t,onSelect:n}=e,[l,c]=(0,s.useState)(t||new Date),[i,r]=(0,s.useState)(0);(0,s.useEffect)(()=>{t&&!(0,P.t)(t,l)&&c(t)},[t]),(0,s.useEffect)(()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0);e.getDate()===t.getDate()&&c(new Date(e.getFullYear(),e.getMonth()+1,1))},[]);let o=(0,F.k)((0,O.w)(l),{weekStartsOn:1}),d=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),u=(()=>{let e=[],t=o;for(let n=0;n<42;n++)e.push(t),t=(0,T.f)(t,1);return e})();return(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-main font-medium text-lg",children:[(0,a.jsxs)("button",{onClick:()=>{r(-1),c(new Date(l.getFullYear(),l.getMonth()-1,1))},className:"p-2",children:[" ",(0,a.jsx)(I.A,{className:"w-5 h-5 text-main"})," "]}),(0,a.jsxs)("div",{className:"flex-grow text-center",children:[" ",(0,L.GP)(l,"MMMM")," ",(0,L.GP)(l,"yyyy")," "]}),(0,a.jsxs)("button",{onClick:()=>{r(1),c(new Date(l.getFullYear(),l.getMonth()+1,1))},className:"p-2",children:[" ",(0,a.jsx)(D.A,{className:"w-5 h-5 text-main"})," "]})]}),(0,a.jsx)("hr",{className:"my-2 border-t border-main opacity-75"}),(0,a.jsx)("div",{className:"grid grid-cols-7 text-sm text-inactive mb-1 text-center",children:["MON","TUE","WED","THU","FRI","SAT","SUN"].map(e=>(0,a.jsx)("div",{className:"uppercase",children:e},e))}),(0,a.jsx)("div",{className:"relative overflow-hidden h-[180px]",children:(0,a.jsx)(E.N,{mode:"wait",initial:!1,children:(0,a.jsx)(M.P.div,{initial:{x:i>0?300:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:i>0?-300:300,opacity:0},transition:{duration:.3},className:"grid grid-cols-7 text-sm gap-y-2 text-center absolute w-full",children:u.map((e,s)=>{let c=(0,P.t)(e,l),i=(0,R.r)(e,t),r=e<=new Date(new Date().setHours(0,0,0,0)),o=!c||r;return(0,a.jsx)("button",{onClick:()=>!o&&n(d(e)),disabled:o,className:"\n                                        py-1 rounded-full w-8 h-8 mx-auto\n                                        ".concat(i?"text-accent font-semibold":"text-inactive","\n                                        ").concat(o?"opacity-30 cursor-not-allowed":"hover:text-accent cursor-pointer","\n                                    "),children:(0,L.GP)(e,"d")},s)})},(0,L.GP)(l,"yyyy-MM"))})})]})}var G=n(4186),U=n(7863);function z(e){let{id:t,value:n="",onChange:l,placeholder:c="11:00 AM"}=e,[i,r]=(0,s.useState)(!1),[o,d]=(0,s.useState)(11),[u,x]=(0,s.useState)(0),[m,h]=(0,s.useState)("AM"),f=[0,15,30,45];(0,s.useEffect)(()=>{if(n){let e=n.split(" ");if(2===e.length){let[t,n]=e,[a,s]=t.split(":").map(Number);d(a>=1&&a<=12?a:11),x(f.includes(s)?s:0),h("PM"===n?"PM":"AM")}}},[n]);let g=n||"",v=()=>r(!0),j=()=>r(!1),b=e=>{d(t=>{let n=t+e;return n>12?1:n<1?12:n})},N=e=>{let t=f.indexOf(u);x(f[(t+e+4)%4])},y=e=>{h(e)};return(0,a.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,a.jsxs)("div",{onClick:v,role:"button",tabIndex:0,className:"relative w-full group cursor-pointer",onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&v()},"aria-haspopup":"dialog","aria-expanded":i,"aria-label":c||"Select time",children:[(0,a.jsx)("div",{id:t,className:"inp pr-10 flex items-center",children:g||(0,a.jsx)("span",{className:"text-inactive",children:c})}),(0,a.jsx)(G.A,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-primary    group-focus-within:text-accent w-5 h-5"})]}),(0,a.jsx)("p",{id:"".concat(t,"_error"),className:"hidden text-error text-center"}),i&&(0,a.jsx)("div",{onClick:j,className:"fixed inset-0 z-50 flex items-center justify-center bg-back    bg-opacity-75 backdrop-blur-sm",children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-surface p-5 rounded-xl shadow-xl w-auto    min-w-[220px] text-main",children:[(0,a.jsx)("h3",{className:"h5 text-center mb-4",children:"Select Time"}),(0,a.jsxs)("div",{className:"flex justify-around items-center my-4 text-2xl font-sans",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("button",{"aria-label":"Increase hour",onClick:()=>b(1),className:"p-1.5 text-main hover:text-accent transition-colors",children:(0,a.jsx)(U.A,{size:28})}),(0,a.jsx)("span",{className:"p-2 w-16 text-center text-3xl text-active tabular-nums",children:o.toString().padStart(2,"0")}),(0,a.jsx)("button",{"aria-label":"Decrease hour",onClick:()=>b(-1),className:"p-1.5 text-main hover:text-accent transition-colors",children:(0,a.jsx)(p.A,{size:28})})]}),(0,a.jsx)("span",{className:"text-3xl text-active pb-1",children:":"}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("button",{"aria-label":"Increase minute",onClick:()=>N(1),className:"p-1.5 text-main hover:text-accent transition-colors",children:(0,a.jsx)(U.A,{size:28})}),(0,a.jsx)("span",{className:"p-2 w-16 text-center text-3xl text-active tabular-nums",children:u.toString().padStart(2,"0")}),(0,a.jsx)("button",{"aria-label":"Decrease minute",onClick:()=>N(-1),className:"p-1.5 text-main hover:text-accent transition-colors",children:(0,a.jsx)(p.A,{size:28})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("button",{onClick:()=>y("AM"),className:"p-2 w-16 text-center text-3xl tabular-nums transition-colors ".concat("AM"===m?"text-accent font-semibold":"text-inactive hover:text-main"),children:"AM"}),(0,a.jsx)("button",{onClick:()=>y("PM"),className:"p-2 w-16 text-center text-3xl tabular-nums transition-colors ".concat("PM"===m?"text-accent font-semibold":"text-inactive hover:text-main"),children:"PM"})]})]}),(0,a.jsxs)("div",{className:"w-full flex justify-end gap-3 mt-5",children:[(0,a.jsx)("button",{onClick:j,className:"w-1/2 py-2 bg-inactive text-primary rounded-lg    hover:opacity-80 transition-opacity text-sm",children:" Cancel "}),(0,a.jsx)("button",{onClick:()=>{l("".concat(o.toString().padStart(2,"0"),":").concat(u.toString().padStart(2,"0")," ").concat(m)),j()},className:"w-1/2 py-2 bg-accent text-back rounded-lg    hover:bg-accent-hover transition-colors text-sm font-medium",children:" Save "})]})]})})]})}function B(e){let{initialStack:t,onChange:n}=e,[l,c]=(0,s.useState)([]);(0,s.useEffect)(()=>{c(t)},[t]);let i=l.reduce((e,t)=>e+t,0);(0,s.useEffect)(()=>{n&&n(i)},[i,n]);let r=e=>{c(t=>[...t,e])};return(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"w-full my-4 flex flex-col sm:flex-row gap-2 items-center justify-center",children:[(0,a.jsx)("p",{className:"text-main text-lg",children:"Duration"}),(0,a.jsx)("p",{className:"bg-surface text-main px-4 py-2 rounded-md text-sm text-center",children:(e=>{if(0===e)return"0 minutes";let t=Math.floor(e/60),n=e%60;return 0===t?"".concat(n," min"):0===n?"".concat(t,"h"):"".concat(t,"h ").concat(n,"m")})(i)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[(0,a.jsx)("button",{onClick:()=>r(15),className:"btn-tr btn-time animate btn-tr-scale",children:" + 15min "}),(0,a.jsx)("button",{onClick:()=>r(30),className:"btn-tr btn-time animate btn-tr-scale",children:" + 30min "}),(0,a.jsx)("button",{onClick:()=>r(60),className:"btn-tr btn-time animate btn-tr-scale",children:" + 1hr "}),(0,a.jsx)("button",{onClick:()=>r(120),className:"btn-tr btn-time animate btn-tr-scale",children:" + 2hr "})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{sessionStorage.setItem("cleared_stack",JSON.stringify(l)),c([])},className:"btn-tr btn-rem animate btn-tr-scale flex-1",children:" CLEAR "}),(0,a.jsx)("button",{onClick:()=>{if(l.length>0)c(e=>e.slice(0,-1));else{let e=sessionStorage.getItem("cleared_stack");if(e)try{let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&(c(t),sessionStorage.removeItem("cleared_stack"))}catch(e){console.warn("Invalid cleared_stack data:",e)}}},className:"btn-tr btn-rem animate btn-tr-scale flex-1",children:" UNDO "})]}),(0,a.jsx)("p",{id:"duration_time_error",className:"hidden text-error text-center"})]})}let W="pk.eyJ1IjoiYWR6OTQ2IiwiYSI6ImNtYmhlemRtZTA4eDcya29tMGFhamhndW4ifQ.MZk-GULgxCkVzusbMSuOWQ",J=async e=>{let t=await fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(encodeURIComponent(e),".json?access_token=").concat(W,"&country=AU&bbox=").concat("140.9993,-37.505,159.1054,-28.157"));if(!t.ok)throw Error("Failed to fetch address suggestions");return t.json()},Q=async(e,t)=>{let n=await fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e,",").concat(t,".json?access_token=").concat(W));if(!n.ok)throw Error("Failed to reverse geocode location");return n.json()};function V(e){let{onAddressSelect:t}=e,[n,l]=(0,s.useState)(""),[c,i]=(0,s.useState)([]),r=async e=>{let t=e.target.value;if(l(t),t.length>2)try{let e=await J(t);i(e.features||[])}catch(e){console.error("Search error:",e),i([])}else i([])},o=e=>{let{place_name:n,center:a}=e;t({address:n,coordinates:a}),l(n),i([])};return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("input",{type:"text",value:n,onChange:r,className:"w-full p-2 bg-surface rounded-md",placeholder:"Search for an address in NSW, Australia"}),c.length>0&&(0,a.jsx)("ul",{className:"w-full p-1 gap-1 flex flex-col bg-white",children:c.map(e=>(0,a.jsxs)("li",{onClick:()=>o(e),className:"p-2 cursor-pointer lg:opacity-75 hover:opacity-100",children:[" ",e.place_name," "]},e.id))})]})}var H=n(5411),Z=n.n(H);function $(e){let{coordinates:t,onLocationChange:n}=e,l=(0,s.useRef)(null),c=(0,s.useRef)(null),i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!l.current)return;let e=[151.2093,-33.8688];return c.current=new(Z()).Map({container:l.current,style:"mapbox://styles/mapbox/streets-v11",center:e,zoom:12}),i.current=new(Z()).Marker({color:"#FF0000"}).setLngLat(e).addTo(c.current),c.current.on("click",async e=>{let{lng:t,lat:a}=e.lngLat;i.current.setLngLat([t,a]);try{var s;let e=(null==(s=(await Q(t,a)).features[0])?void 0:s.place_name)||"Unknown location";null==n||n({address:e,coordinates:[t,a]})}catch(e){console.error("Geocoding error:",e)}}),()=>{i.current&&i.current.remove(),c.current&&c.current.remove()}},[]),(0,s.useEffect)(()=>{i.current&&c.current&&Array.isArray(t)&&2===t.length&&(i.current.setLngLat(t),c.current.flyTo({center:t,zoom:12}))},[t]),(0,a.jsx)("div",{ref:l,className:"w-full",style:{height:"50vh"}})}function K(e){let{content:t,label:n,icon:s,classes:l=""}=e;return(0,a.jsxs)("div",{className:"w-full px-4 py-2 flex flex-col items-center ".concat(l),children:[(0,a.jsx)("p",{className:"px-2 text-main text-center text-md",children:t}),(0,a.jsx)("hr",{className:"w-full border-t border-inactive my-1"}),(0,a.jsxs)("div",{className:"relative w-full justify-center pt-1",children:[(0,a.jsx)("p",{className:"text-main text-center text-sm",children:n}),s&&(0,a.jsx)(s,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-main w-5 h-5"})]})]})}function q(e){let{icon:t,title:n,children:s}=e;return(0,a.jsxs)("div",{className:"w-full bg-surface rounded-2xl p-4 mb-4 hover:scale-105 hover:shadow-2xl hover:shadow-back   transform transition-transform duration-300 ease-out",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-4 gap-2",children:[(0,a.jsx)(t,{className:"text-accent w-6 h-6"}),(0,a.jsx)("h5",{className:"h5",children:n})]}),s]})}n(8689),Z().accessToken="pk.eyJ1IjoiYWR6OTQ2IiwiYSI6ImNtYmhlemRtZTA4eDcya29tMGFhamhndW4ifQ.MZk-GULgxCkVzusbMSuOWQ";var X=n(5823),ee=n(6699),et=n(7580),en=n(6191),ea=n(7873),es=n(9074),el=n(4298),ec=n(4516),ei=n(7340),er=n(5525);let eo=["contact","event","date","time","location","review"],ed={contact:"Contact",event:"Event",date:"Date",time:"Time",location:"Location",review:"Review"},eu={contact:function(e){let{onAdvance:t}=e,[n,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{l(r("contact"))},[]);let[i,b]=(0,s.useState)(""),[y,w]=(0,s.useState)(""),[S,_]=(0,s.useState)(""),[k,C]=(0,s.useState)(""),[A,E]=(0,s.useState)("email");return(0,s.useEffect)(()=>{n&&(n.name&&b(n.name),n.email&&w(n.email),n.mobile&&_(n.mobile),n.service&&C(n.service),n.contact&&E(n.contact))},[n]),(0,a.jsxs)("section",{className:"sect",children:[(0,a.jsxs)("div",{className:"w-full xl:w-1/2 p-2 gap-4 flex flex-col justify-center",children:[(0,a.jsx)(v,{id:"contact_name",placeholder:"Full Name or Company",icon:m.A,savedInfo:i,onChange:b}),(0,a.jsx)(v,{id:"contact_email",type:"email",placeholder:"Contact Email",icon:h.A,savedInfo:y,onChange:w}),(0,a.jsx)(v,{id:"contact_mobile",type:"tel",placeholder:"Contact Number [+61 or 04]",icon:f.A,savedInfo:S,onChange:_}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsxs)("select",{id:"contact_service",className:"slc pr-10",value:k||"",onChange:e=>C(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Select a service"}),c.map(e=>{let{id:t,label:n}=e;return(0,a.jsx)("option",{value:t,children:n},t)})]}),(0,a.jsx)(p.A,{className:"chevron"}),(0,a.jsx)("p",{id:"contact_service_error",className:"hidden text-error text-center"})]}),(0,a.jsx)(g,{id:"contact_method",title:"How should we confirm your booking?",selected:A,onSelect:E,options:[{id:"email",label:"\uD83D\uDCE7 Email"},{id:"sms",label:"\uD83D\uDCF1 SMS"}]})]}),(0,a.jsx)(x,{section:"contact",onAdvance:()=>{!function(e){let{name:t,email:n,mobile:a,service:s,contact:l}=e,c=!1;return["contact_name","contact_email","contact_mobile","contact_service","contact_method"].forEach(d),(0,j.F)(t.trim())||(u("contact_name","Enter a valid name (up to 3 words, no numbers)"),c=!0),/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(n.trim())||(u("contact_email","Enter a valid email address"),c=!0),/^\+614\d{8}$/.test(N(a).replace(/\s/g,""))||(u("contact_mobile","Enter a valid Australian mobile number"),c=!0),s||(u("contact_service","Select a service"),c=!0),"email"!==l&&"sms"!==l&&(u("contact_method","Select a contact method"),c=!0),c||o("contact",{name:t,email:n,mobile:a,service:s,contact:l}),c}({name:i,email:y,mobile:S,service:k,contact:A})&&t()}})]})},event:function(e){let{onAdvance:t}=e,[n,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{l(r("event"))},[]);let[c,i]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),[f,p]=(0,s.useState)(null),[v,j]=(0,s.useState)(null),[b,N]=(0,s.useState)([]);return(0,s.useEffect)(()=>{n&&(n.guest&&i(n.guest),n.guard&&h(n.guard),n.audience&&p(n.audience),"under 18"===n.audience?j("no"):n.alcohol&&j(n.alcohol),n.securityRoles&&N(n.securityRoles))},[n]),(0,a.jsxs)("section",{className:"sect",children:[(0,a.jsxs)("div",{className:"w-full xl:w-1/2 p-2 gap-4 flex flex-col justify-center",children:[(0,a.jsx)("h5",{className:"h5 text-center",children:"Guests & Guards"}),(0,a.jsxs)("div",{className:"w-full flex flex-col lg:flex-row items-center justify-center",children:[(0,a.jsx)(S,{id:"guest_count",label:"Guest Count",value:c,onChange:i}),(0,a.jsx)(S,{id:"guard_count",label:"Guard Count",max:15,min:2,value:m,onChange:h})]}),(0,a.jsxs)("div",{className:"w-full gap-4 p-2 flex flex-col lg:flex-row items-center justify-center",children:[(0,a.jsx)(g,{id:"audience_toggle",title:"Audience Group",selected:f,onSelect:e=>{p(e),"under 18"===e?j("no"):j(null)},options:[{id:"under 18",label:"- 18"},{id:"over 18",label:"+ 18"}]}),"under 18"===f?(0,a.jsxs)("div",{className:"w-full gap-3 flex flex-col text-center items-center",children:[(0,a.jsx)("h5",{className:"h5 w-full",children:"Alcohol Presence"}),(0,a.jsx)("p",{className:"text-center text-sm text-primary w-3/4 bg-inactive rounded-xl p-2",children:"⚠️ For this age group, alcohol service is automatically disabled in line with current event regulations."})]}):(0,a.jsx)(g,{id:"alcohol_toggle",title:"Alcohol Presence",selected:v,onSelect:j,options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}]})]}),(0,a.jsx)(A,{selected:b,onChange:N})]}),(0,a.jsx)(x,{section:"event",onAdvance:()=>{!function(e){let{guest:t,guard:n,audience:a,alcohol:s,securityRoles:l}=e,c=!1;return["guest_count","guard_count","audience_toggle","alcohol_toggle","event_roles"].forEach(d),(isNaN(t)||t<1)&&(u("guest_count","Enter a valid guest count"),c=!0),(isNaN(n)||n<2)&&(u("guard_count","Enter a valid guard count"),c=!0),"under 18"!==a&&"over 18"!==a&&(u("audience_toggle","Select an audience group"),c=!0),"over 18"===a&&"yes"!==s&&"no"!==s&&(u("alcohol_toggle","Specify alcohol presence"),c=!0),Array.isArray(l)&&0!==l.length||(u("event_roles","Pleae select at least 1 role"),c=!0),c||o("event",{guest:t,guard:n,audience:a,alcohol:"under 18"===a?"no":s,securityRoles:l}),c}({guest:c,guard:m,audience:f,alcohol:v,securityRoles:b})&&t()}})]})},date:function(e){let{onAdvance:t}=e,[n,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{l(r("date"))},[]);let[c,i]=(0,s.useState)(null);return(0,s.useEffect)(()=>{n&&n.date&&i(new Date(n.date))},[n]),(0,a.jsxs)("section",{className:"sect",children:[(0,a.jsx)("h5",{className:"h5 text-center",children:"Select Your Event Date"}),(0,a.jsxs)("div",{className:"w-full mb-4 flex flex-col items-center",children:[(0,a.jsx)(Y,{selectedDate:c,onSelect:i}),(0,a.jsx)("p",{id:"date_error",className:"hidden text-error text-center"})]}),(0,a.jsx)(x,{section:"dt",onAdvance:()=>{!function(e){let{date:t}=e;if(d("date"),!t)return u("date","Please select a date"),!0;let n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return o("date",{date:"".concat(n,"-").concat(a,"-").concat(s)}),!1}({date:c})&&t()}})]})},time:function(e){let{onAdvance:t}=e,[n,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{l(r("time"))},[]);let[c,i]=(0,s.useState)(""),[m,h]=(0,s.useState)(0),[f,p]=(0,s.useState)([]);return(0,s.useEffect)(()=>{if(n&&(n.start&&i(n.start),n.duration)){h(n.duration);let e=[],t=n.duration;for(let n of[120,60,30,15])for(;t>=n;)e.push(n),t-=n;p(e)}},[n]),(0,a.jsxs)("section",{className:"sect",children:[(0,a.jsx)("h5",{className:"h5 text-center",children:"Select Start Time"}),(0,a.jsxs)("div",{className:"w-full xl:w-1/2 flex flex-col gap-3",children:[(0,a.jsx)(z,{id:"start_time",value:c,onChange:i,placeholder:"11:00 AM"}),(0,a.jsx)(B,{initialStack:f,onChange:e=>{h(e)}})]}),(0,a.jsx)(x,{section:"time",onAdvance:()=>{!function(e){let{start:t,duration:n}=e,a=!1;return["start_time","duration_time"].forEach(d),/^(0?[1-9]|1[0-2]):([0-5][0-9]) (AM|PM)$/.test(t.trim())||(u("start_time","Please select a start time"),a=!0),n<180&&(u("duration_time","Minimum duration is 3 hours"),a=!0),a||o("time",{start:t,duration:n}),a}({start:c,duration:m})&&t()}})]})},location:function(e){let{onAdvance:t}=e,[n,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{l(r("location"))},[]);let[c,i]=(0,s.useState)({address:"",coordinates:null}),[m,h]=(0,s.useState)(null),[f,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{n&&(n.location&&i(n.location),n.hasUnit&&h(n.hasUnit),n.unitNum&&p(n.unitNum))},[n]);let v=e=>{i(e),h(null),p(null)};return(0,a.jsxs)("section",{className:"sect",children:[(0,a.jsx)("h5",{className:"h5 text-center",children:"Select Your Event Location"}),(0,a.jsxs)("div",{className:"w-full gap-4 flex flex-col justify-center items-center text-center",children:[(0,a.jsx)(V,{onAddressSelect:v}),(0,a.jsx)($,{coordinates:c.coordinates,onLocationChange:v}),(0,a.jsxs)("p",{className:"text-center text-sm text-main",children:[" ",c.address?c.address:""," "]}),(0,a.jsx)("p",{id:"location_error",className:"hidden text-error text-center"}),c.address&&(0,a.jsxs)("div",{className:"w-full gap-4 flex flex-col items-center",children:[(0,a.jsx)(g,{id:"unit_toggle",title:"Does it Have a Unit?",selected:m,onSelect:h,options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}]}),(0,a.jsx)("p",{id:"unit_toggle_error",className:"hidden text-error text-center"}),"yes"===m&&(0,a.jsx)(S,{id:"unit_number",label:"Unit Number",value:f,min:1,max:120,onChange:p}),(0,a.jsx)("p",{id:"unit_input_error",className:"hidden text-error text-center"})]})]}),(0,a.jsx)(x,{section:"location",onAdvance:()=>{!function(e){let{location:t,hasUnit:n,unitNum:a}=e,s=!1;return["location_error","unit_toggle_error","unit_input_error"].forEach(d),t.address&&t.coordinates||(u("location","Please select a location on the map"),s=!0),null===n&&(u("unit_toggle","Please specify if the location has a unit"),s=!0),"yes"===n&&(!a||a<1)&&(u("unit_input","Please enter a valid unit number"),s=!0),s||o("location",{location:t,hasUnit:n,unitNum:"yes"===n?a:null}),s}({location:c,hasUnit:m,unitNum:f})&&t()}})]})},review:function(){var e;let[t,n]=(0,s.useState)(""),[l,i]=(0,s.useState)("hidden"),[o,d]=(0,s.useState)("Email"),[u,x]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[v,j]=(0,s.useState)(null),[S,_]=(0,s.useState)(null),[k,C]=(0,s.useState)(null);if((0,s.useEffect)(()=>{let e=r("contact");x(e),d("email"===e.contact?"Email":"SMS"),g(r("event")),j(r("date")),_(r("time")),C(r("location"))},[]),!u||!p||!v||!S||!k)return(0,a.jsx)("section",{className:"sect",children:(0,a.jsx)("p",{className:"text-error text-xl",children:"Complete Previous Sections Before You Can Submit"})});let A=e=>{let t=c.find(t=>t.id===e);return t?t.label:"Service not selected"},E=async()=>{i("hidden"),n("");try{let e=await fetch("/api/send-booking-confirmation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:u.contact,contact:"email"===u.contact?u.email:N(u.mobile),data:{name:u.name,service:A(u.service),guards:p.guard,date:w(v.date),start:S.start,duration:y(S.duration),location:k.location.address}})});if(e.ok)console.info("Booking Confirmation Sent"),i("text-success"),n("Booking Confirmed & ".concat(o," Sent"));else{let t=await e.json();console.error("Failed to send ".concat(o," confirmation:"),t),i("text-error"),n("Failed to send confirmation. Please try again.")}}catch(e){console.error("Failed to send confirmation:",e),i("text-error"),n("An error has occurred, please try again.")}};return(0,a.jsxs)("section",{className:"sect",children:[(0,a.jsx)(q,{icon:m.A,title:"Contact Information",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[(0,a.jsx)(K,{content:u.name,label:"Name / Company",icon:m.A}),(0,a.jsx)(K,{content:u.email,label:"Contact Email",icon:h.A}),(0,a.jsx)(K,{content:u.mobile,label:"Contact Mobile",icon:f.A}),(0,a.jsx)(K,{content:o,label:"Contact Method",icon:X.A})]})}),(0,a.jsx)(q,{icon:ee.A,title:"Event Details",children:(0,a.jsxs)("div",{className:"grid ".concat("under 18"===p.audience?"xl:grid-cols-3":"xl:grid-cols-2"," \n                    grid-cols-1 gap-4"),children:[(0,a.jsx)(K,{content:p.guest,label:"Guest Count",icon:et.A}),(0,a.jsx)(K,{content:p.guard,label:"Guard Count",icon:ee.A}),(0,a.jsx)(K,{content:b(p.audience),label:"Audience Group",icon:en.A}),"under 18"!==p.audience&&(0,a.jsx)(K,{content:b(p.alcohol),label:"Alcohol Presence",icon:ea.A})]})}),(0,a.jsx)(q,{icon:es.A,title:"Date",children:(0,a.jsx)(K,{content:w(v.date),label:"Date",icon:es.A})}),(0,a.jsx)(q,{icon:G.A,title:"Time",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[(0,a.jsx)(K,{content:S.start,label:"Start Time",icon:G.A}),(0,a.jsx)(K,{content:y(S.duration),label:"Duration",icon:el.A})]})}),(0,a.jsx)(q,{icon:ec.A,title:"Location",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 ".concat("yes"===k.hasUnit?"xl:grid-cols-4":""),children:[(0,a.jsx)(K,{content:k.location.address,label:"Location",icon:ec.A,classes:"xl:col-span-3"}),"yes"===k.hasUnit&&(0,a.jsx)(K,{content:"#".concat(k.unitNum),label:"Unit Number",icon:ei.A})]})}),(0,a.jsxs)(q,{icon:er.A,title:"Service",children:[(0,a.jsx)(K,{content:A(u.service),label:"Service",icon:er.A}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mt-4",children:null==(e=p.securityRoles)?void 0:e.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center px-4 py-1 rounded-full bg-accent/10 text-accent    text-sm font-medium",children:[" ",(0,a.jsx)(er.A,{className:"mr-2 w-4 h-4"})," ",e," "]},t))})]}),(0,a.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[(0,a.jsx)("button",{id:"submit_button",onClick:E,className:"btn animate btn-scale",children:"Submit Booking"}),(0,a.jsx)("p",{className:"".concat(l," text-center"),children:t})]})]})}};var ex=n(2919),em=n(430),eh=n(5196);let ef=e=>{switch(e){case"locked":return(0,a.jsx)(ex.A,{className:"w-4 h-4 text-inactive ml-auto"});case"current":return(0,a.jsx)(em.A,{className:"w-4 h-4 text-accent ml-auto"});case"complete":return(0,a.jsx)(eh.A,{className:"w-4 h-4 text-success ml-auto"});default:return null}},ep=(e,t)=>{let n="w-full flex items-center justify-between px-4 py-2 my-1 rounded-md transition-colors duration-150";return"locked"===e?"".concat(n," opacity-50 cursor-not-allowed text-inactive"):t?"".concat(n," bg-accent/10 text-accent font-bold cursor-pointer"):"complete"===e?"".concat(n," text-success hover:bg-success/15 cursor-pointer"):"".concat(n," text-main hover:bg-accent/15")};function eg(e){let{activeSection:t,sectionStates:n,goToSection:s}=e;return(0,a.jsxs)("aside",{className:"b-menu py-5 min-w-[250px] max-w-[300px]",children:[(0,a.jsx)("h3",{className:"h3 text-center",children:"Your Booking"}),eo.map(e=>(0,a.jsxs)("button",{onClick:()=>"locked"!==n[e]&&s(e),disabled:"locked"===n[e],className:ep(n[e],t===e),children:[(0,a.jsx)("span",{children:ed[e]}),ef(n[e])]},e))]})}let ev=(e,t)=>{let n=["contact","event","date","time","location","review"];return n.indexOf(e)>n.indexOf(t)?1:-1},ej={enter:e=>({y:e>0?50:-50,opacity:0}),center:{y:0,opacity:1},exit:e=>({y:e<0?50:-50,opacity:0})},eb={type:"tween",ease:"easeInOut",duration:.4};function eN(e){let{section:t,activeSection:n,onAdvance:l}=e,c=(0,s.useRef)(n),i=ev(n,c.current);return c.current=n,(0,a.jsx)(E.N,{mode:"wait",custom:i,children:(0,a.jsx)(M.P.div,{custom:i,variants:ej,initial:"enter",animate:"center",exit:"exit",transition:eb,children:(0,a.jsx)(t,{onAdvance:l})},n)})}function ey(e){let{activeSection:t,sectionStates:n,goToSection:s,advanceFlow:l}=e;return(0,a.jsxs)("nav",{className:"w-full max-w-md mx-auto my-4 rounded-xl shadow",children:[(0,a.jsx)("h3",{className:"h3 text-center",children:"Your Booking"}),(0,a.jsx)("ul",{className:"divide-y divide-inactive",children:eo.map(e=>{let c=eu[e],i=t===e;return(0,a.jsxs)("li",{children:[(0,a.jsxs)("button",{id:"accordion-header-".concat(e),type:"button","aria-expanded":i,"aria-controls":"accordion-panel-".concat(e),className:"w-full flex items-center justify-between px-4 py-3 text-lg font-medium focus:outline-none\n                                    ".concat(i?"text-accent font-bold":"","\n                                    ").concat("complete"===n[e]?"text-success":"","\n                                    ").concat("locked"===n[e]?"opacity-50 cursor-not-allowed":"hover:bg-accent/10 text-main"),disabled:"locked"===n[e],onClick:()=>"locked"!==n[e]&&s(e),children:[(0,a.jsx)("span",{children:ed[e]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[ef(n[e]),i?(0,a.jsx)(U.A,{className:"w-5 h-5","aria-hidden":"true"}):(0,a.jsx)(p.A,{className:"w-5 h-5","aria-hidden":"true"})]})]}),(0,a.jsx)("div",{id:"accordion-panel-".concat(e),role:"region",hidden:!i,"aria-labelledby":"accordion-header-".concat(e),className:"transition-all duration-300 ".concat(i?"block px-2":"hidden"),children:i&&(0,a.jsx)(eN,{section:c,sectionKey:t,onAdvance:()=>l(e)})})]},e)})})]})}function ew(){let[e,t]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=()=>t(window.innerWidth<=1024);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let{activeSection:n,sectionStates:c,goToSection:i,advanceFlow:r}=function(){let[e,t]=(0,s.useState)("contact"),[n,a]=(0,s.useState)({}),[c,i]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=sessionStorage.getItem("bookingStates"),n=sessionStorage.getItem("activeSection"),s=sessionStorage.getItem("returnTarget");if(e)a(JSON.parse(e));else{let e={};l.forEach((t,n)=>{e[t]=0===n?"current":"locked"}),a(e),sessionStorage.setItem("bookingStates",JSON.stringify(e))}n&&t(n),s&&i(s)},[]);let r=a=>{let s=l.indexOf(e);l.indexOf(a)<s&&"current"===n[e]&&(i(e),sessionStorage.setItem("returnTarget",e)),t(a),sessionStorage.setItem("activeSection",a)};return{activeSection:e,sectionStates:n,goToSection:r,advanceFlow:e=>{let t=l.indexOf(e);if(t<0)return;let s=l[t+1],o=s;if(c&&s&&l.indexOf(c)>l.indexOf(s)&&(o=c,i(null),sessionStorage.removeItem("returnTarget")),!o)return;let d={...n,[e]:"complete",[o]:"current"};a(d),sessionStorage.setItem("bookingStates",JSON.stringify(d)),r(o)}}}();return(0,a.jsx)("main",{className:"flex-grow bg-primary text-main xl:h-[calc(100vh-7.5rem-7rem)]",children:e?(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)(ey,{activeSection:n,sectionStates:c,goToSection:i,advanceFlow:r})}):(0,a.jsxs)("div",{className:"flex flex-row h-full",children:[(0,a.jsx)(eg,{activeSection:n,sectionStates:c,goToSection:i}),(0,a.jsx)("div",{className:"flex-grow overflow-y-auto",children:(0,a.jsx)(eN,{section:eu[n],activeSection:n,onAdvance:()=>r(n)})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[168,240,209,441,684,358],()=>t(6725)),_N_E=e.O()}]);